# 이상한 나라의 객체

객체는 쉽게 **상태, 행동, 식별자**를 지닌 실체로 보는 것이 가장 효과적이다.

*   상태

    어떤 행동의 결과는 과거에 어떤 행동이 일어났느냐에 대해 의존한다.

    과거에 발생한 행동의 이력을 통해 현재 발생한 행동의 결과를 판단하는 방법은 좋지 못하다.

    하지만 상태를 이용하면 행동의 결과를 쉽게 예측할 수 있다.

    과거에 얽매이지 않고 현재를 기반으로 행동 방식을 이해할 수 있게 한다.

    `상태는 복잡성을 완화하는 중요한 개념이다`.
* 행동
  *   상태와 행동

      객체의 행동은 객체의 상태를 변경시키지만 행동의 결과는 객체의 상태에 의존적이다.
  *   협력과 행동

      객체가 다른 객체와 협력하는 유일한 방법은 다른 객체에게 요청을 보내는 것이다.

      객체는 협력에 참여하는 과정에서 자신의 상태 뿐 아니라 다른객체의 상태 변화를 유발할 수 있다.(사이드 이펙트)

      > 행동이란 외부의 쵸청 또는 수신된 메세지에 응답하기 위해 동작하고 반응하는 활동이다. (메서드) 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메세지를 전달할 수 있다.(사이드 이펙트) 객체는 행동을 통해 다른 객체와의 협력에 참여하므로, 행동은 외부에 가시적이어야한다.(협력할 때 사용하는 메서드는 public)
  *   상태캡슐화

      `**모든 객체는 자신의 상태를 스스로 관리해야한다.**`

      객체는 상태를 캡슐 안에 감춰둔 채 외부로 노출하지 않는다. 객체가 외부에 노출하는 것은 행동 뿐이다. 외부에서 접근할 수 있는 것 역시 행동뿐이다.
*   식별자

    값은 식별자를 가지지 않지만, 객체는 식별자를 가진다.

    > 식별자란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티다.(객체의 주소) 값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야 한다. 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사(equals, hashcode)를 통해 두 인스턴스를 비교할 수 있다.


* 행동이 상태를 결정한다!
  * 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 준다.
    1. 상태를 먼저 결정할 경우 캡슐화가 저해된다.
    2. 객체를 협력자가 아닌 고립된 섬으로 만든다. 상태를 먼저 고려하는 방식은 협력이라는 문맥에서 멀리 벗어난 채 객체를 설계하게 함으로써 자연스럽게 협력에 적합하지 못한 객체를 창조하게 된다.
    3. 객체의 재사용성이 저하된다. 상태에 초점을 맞춘 객체는 다양한 협력에 참여하기 어렵기 때문에 재사용성이 저하될 수밖에 없다.
* 은유와 객체
  * 의인화 현실 속에서의 수동적 존재도 객체로 표현되면 능동적 존재가 된다.
  *   은유

      현실 속의 객체의 의미 일부가 소프트웨어 객체로 전달되기 때문에 프로그램 내의 객체는 현실 속의 객체에 대한 은유이다.
